(this.webpackJsonpx=this.webpackJsonpx||[]).push([[0],{147:function(e,t,a){e.exports=a(234)},152:function(e,t,a){},223:function(e,t){},232:function(e,t){},234:function(e,t,a){"use strict";a.r(t);var n=a(3),l=a.n(n),r=a(135),c=a.n(r),i=(a(152),Object(n.createContext)()),o=function(e){var t=Object(n.useContext)(i).flipOccupation,a=e.urinal,r=a.id,c=a.status,o=a.usable;return l.a.createElement("button",{onClick:function(){t(r)},className:"urinal "+("occupied"===c?"occupied":o?" good":" bad")})},s=function(){var e=Object(n.useContext)(i),t=e.addUrinal,a=e.removeUrinal,r=e.urinals,c=e.max_urinals;return l.a.createElement("div",{className:"row",style:u},r.map((function(e){return l.a.createElement(o,{key:e.id,urinal:e})})),l.a.createElement("div",null,r.length<c&&l.a.createElement("div",null,l.a.createElement("button",{onClick:t,className:"add-remove green"},l.a.createElement("i",{className:"material-icons white-text"},"add"))),r.length>1&&l.a.createElement("div",null,l.a.createElement("button",{onClick:a,className:"add-remove red"},l.a.createElement("i",{className:"material-icons white-text"},"remove")))))},u={display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",padding:0,margin:0},m=a(38),d=a(37),p=a(15),f=function(e,t){switch(t.type){case"LOAD_URINALS":return Object(p.a)(Object(p.a)({},e),{},{urinals:t.payload});case"UPDATE_SYMMETRY":return Object(p.a)(Object(p.a)({},e),{},{check_symmetry:t.payload});case"UPDATE_AGGRESSIVE":return Object(p.a)(Object(p.a)({},e),{},{aggressive:t.payload});case"UPDATE_ACCEPTABLE":return Object(p.a)(Object(p.a)({},e),{},{acceptable_gap:t.payload});case"UPDATE_MIN_GAP":return Object(p.a)(Object(p.a)({},e),{},{min_gap:t.payload});default:return e}};var E=function(e){var t=Object(n.useReducer)(f,{urinals:[{id:0,status:"empty",usable:!0},{id:1,status:"empty",usable:!0},{id:2,status:"empty",usable:!0},{id:3,status:"empty",usable:!0},{id:4,status:"empty",usable:!0}],max_urinals:10,min_gap:0,acceptable_gap:3,aggressive:!1,check_symmetry:!1}),a=Object(d.a)(t,2),r=a[0],c=a[1],o=r.urinals,s=r.max_urinals,u=r.aggressive,p=r.check_symmetry,E=r.min_gap,g=r.acceptable_gap,y=function(e){var t=e.length,a=[];e.forEach((function(e){"occupied"===e.status?a.push(1):a.push(0)}));for(var n,l,r,c,i=[],o=0;o<t;o++){if(l=1/0,0!==o)for(r=o;r>=0&&(l=o-r,1!==a[r-1]);r--)0===r&&(l=1/0);if(n=1/0,o!==t-1)for(c=o;c<t&&(n=c-o,1!==a[c+1]);c++)c===t-1&&(n=1/0);i.push(n<l?n:l)}var s=[];i.forEach((function(e){e>=E?s.push(1):s.push(0)}));var u=[];i.forEach((function(e){e>=g?u.push(1):u.push(0)}));for(var d,f=-1,y=[],v=0;v<t;v++)0===a[v]&&((d=i[v])>f?(y=[v],f=d):d===f&&y.push(v));var N=new Array(t).fill(0);y.forEach((function(e){N[e]=1}));var _=new Array(t).fill(0);if(p)for(var w=0;w<t;w++)if(0===a[w]){var A=[].concat(a);A[w]=1;var O=Object(m.a)(A);O.reverse(),b(O,A)&&(_[w]=1)}var x=h(u,function(e,t){if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var a=new Array(e.length),n=0;n<e.length;++n)0!==e[n]&&0!==t[n]?a[n]=1:a[n]=0;return a}(s,h(N,_)));return e.forEach((function(e){1===x[e.id]?e.usable=!0:e.usable=!1})),e};return l.a.createElement(i.Provider,{value:{urinals:o,max_urinals:s,min_gap:E,acceptable_gap:g,aggressive:u,check_symmetry:p,addUrinal:function(){o.length<s&&(o=[].concat(Object(m.a)(o),[{id:o.length,status:"empty",usable:!0}]),c({type:"LOAD_URINALS",payload:y(o)}))},removeUrinal:function(){o.length>1&&c({type:"LOAD_URINALS",payload:y(o.slice(0,-1))})},flipOccupation:function(e){"occupied"!==o[e].status?o[e].status="occupied":o[e].status="empty",c({type:"LOAD_URINALS",payload:y(o)})},updateSymmetry:function(e){c({type:"UPDATE_SYMMETRY",payload:e}),p=e,c({type:"LOAD_URINALS",payload:y(o)})},updateAggressive:function(e){c({type:"UPDATE_AGGRESSIVE",payload:e}),u=e,c({type:"LOAD_URINALS",payload:y(o)})},updateMinGap:function(e){c({type:"UPDATE_MIN_GAP",payload:e}),E=e,c({type:"LOAD_URINALS",payload:y(o)})},updateAcceptableGap:function(e){c({type:"UPDATE_ACCEPTABLE",payload:e}),g=e,c({type:"LOAD_URINALS",payload:y(o)})}}},e.children)};function b(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var a=0;a<e.length;++a)if(e[a]!==t[a])return!1;return!0}function h(e,t){if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var a=new Array(e.length),n=0;n<e.length;++n)0!==e[n]||0!==t[n]?a[n]=1:a[n]=0;return a}var g=Object(n.createContext)(),y=function(e,t){switch(t.type){case"TOGGLE_SETTINGS":return Object(p.a)(Object(p.a)({},e),{},{show_settings:!e.show_settings});default:return e}};var v=function(e){var t=Object(n.useReducer)(y,{show_settings:!1}),a=Object(d.a)(t,2),r=a[0],c=a[1],i=r.show_settings;return l.a.createElement(g.Provider,{value:{toggleSettings:function(){c({type:"TOGGLE_SETTINGS"})},show_settings:i}},e.children)},N=function(){var e=Object(n.useContext)(g).toggleSettings;return l.a.createElement("header",{className:"nav lime accent-2"},l.a.createElement("i",{onClick:e,className:"material-icons black-text settings-button"},"settings"),l.a.createElement("h1",{className:"black-text"},"Where Can I Pee?"),l.a.createElement("h5",null,"read: the primal male mind"))},_=(a(97),a(236)),w=a(237),A=a(238),O=a(239),x=a(240),j=a(241),S=a(242),k=a(243),C=function(){var e=window.location.href;return l.a.createElement("div",{className:"fixed-action-btn"},l.a.createElement("a",{href:"#share",className:"btn-floating blue btn-large"},l.a.createElement("i",{className:"large material-icons"},"share")),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("a",{href:"#share",className:"btn-floating blue"},l.a.createElement(_.a,{url:e,title:"Share to Twitter"},l.a.createElement(w.a,{round:!0,size:40})))),l.a.createElement("li",null,l.a.createElement("a",{href:"#share",className:"btn-floating red"},l.a.createElement(A.a,{url:e,title:"Share to Reddit"},l.a.createElement(O.a,{round:!0,size:40})))),l.a.createElement("li",null,l.a.createElement("a",{href:"#share",className:"btn-floating blue"},l.a.createElement(x.a,{url:e,title:"Share to Facebook Messenger"},l.a.createElement(j.a,{round:!0,size:40})))),l.a.createElement("li",null,l.a.createElement("a",{href:"#share",className:"btn-floating blue"},l.a.createElement(S.a,{url:e,title:"Share to Facebook"},l.a.createElement(k.a,{round:!0,size:40}))))))},D=function(){return Object(n.useEffect)((function(){}),[]),l.a.createElement("div",{className:"fixed-action-btn",style:{marginRight:"70px"}},l.a.createElement("a",{href:"#donate",className:"btn-floating btn-large blue"},l.a.createElement("i",{className:"large material-icons"},"volunteer_activism")),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("a",{href:"#crypto-modal",className:"btn-floating red modal-trigger"},l.a.createElement("i",{className:"fab fa-btc"}))),l.a.createElement("li",null,l.a.createElement("a",{target:"_blank",href:"https://www.paypal.com/donate?hosted_button_id=D3YABRLQ3W5KQ",className:"btn-floating blue"},l.a.createElement("i",{className:"material-icons"},"paid")))))},R=a(137),T=a.n(R),L=(a(153),a(138)),U=a.n(L),I=function(){return l.a.createElement("div",{id:"crypto-modal",className:"modal"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("h4",null,"Support content like this with a crypto donation"),l.a.createElement("p",null,"Bitcoin and Ethereum accepted"),l.a.createElement(U.a,{cryptoDomain:"dallinromney.crypto",colors:{primary:"#2096f3",secondary:"#fde199",button:"#1a78c2",buttonSecondary:"#fab601",text:"#ffffff"},text:{title:"Donate",thanks:"Thank you for donating, see the below link for transaction",copied:"Address copied, please donate via wallet"}})),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn-flat"},"Done")))},G=a(54),P=function(e){var t=e.decreaseText,a=e.increaseText,r=e.increment,c=e.initialValue,i=e.min,o=e.max,s=e.onChange;t=t||"Decrease quantity",a=a||"Increase quantity",r=r||1,c=c||0,i=i||0,o=o||10;var u=Object(n.useRef)(null),m=Object(n.useState)(c),p=Object(d.a)(m,2),f=p[0],E=p[1];return l.a.createElement("div",{styles:M},l.a.createElement("button",{style:B,onClick:function(){var e=Number(u.current.value)-r;e>=i&&(E(e),u.current.value=e,s(e))},title:t,type:"button"},l.a.createElement("i",{className:"material-icons black-text"},"remove")),l.a.createElement("input",{style:z,ref:u,pattern:"[0-9]+",name:"quantity",type:"number",value:f,onChange:function(e){var t=u.current.value;isNaN(t)?E(c):E(t>o?o:t<i?i:e.target.value)}}),l.a.createElement("button",{style:V,onClick:function(){var e=Number(u.current.value)+r;e<=o&&(E(e),u.current.value=e,s(e))},title:a,type:"button"},l.a.createElement("i",{className:"material-icons black-text"},"add")))},M={position:"relative",width:"100%",padding:"0",margin:"0",border:"0",display:"flex"},z={fontSize:"3vw",height:"4vw",borderRadius:"2vw",border:"0",background:"#fff",color:"#222",textAlign:"center",width:"50%",boxSizing:"border-box",fontWeight:"lighter",display:"inline"},B=Object(G.a)({position:"relative",width:"4vw",height:"4vw",left:"4vw",display:"inline",padding:"0",margin:"0",border:"0",borderRadius:"2vw",cursor:"pointer",transition:"opacity 0.15s",opacity:"0.7"},"border","1px solid"),V=Object(G.a)({position:"relative",width:"4vw",height:"4vw",left:"-4vw",display:"inline",padding:"0",margin:"0",border:"0",borderRadius:"2vw",cursor:"pointer",transition:"opacity 0.15s",opacity:"0.7"},"border","1px solid"),Y=function(){var e=Object(n.useContext)(g).show_settings,t=Object(n.useContext)(i),a=t.updateSymmetry,r=t.updateMinGap,c=t.updateAcceptableGap,o=t.min_gap,s=t.acceptable_gap,u=t.max_urinals;return e?l.a.createElement("div",{className:"options"},l.a.createElement("div",{className:"option-group"},l.a.createElement("label",null,"Always-acceptable gap"),l.a.createElement(P,{increment:1,initialValue:s,min:o,max:u,onChange:function(e){c(e)}})),l.a.createElement("div",{className:"option-group"},l.a.createElement("label",null,"Minimum gap"),l.a.createElement(P,{increment:1,initialValue:o,min:0,max:s,onChange:function(e){r(e)}})),l.a.createElement("div",{className:"option-group"},l.a.createElement("label",{htmlFor:"symmetry-switch"},"Symmetry"),l.a.createElement("div",{className:"switch"},l.a.createElement("label",null,l.a.createElement("input",{name:"symmetry-switch",type:"checkbox",onClick:function(e){a(e.target.checked)}}),l.a.createElement("span",{className:"lever"}))))):l.a.createElement("div",null)},q=function(){return l.a.createElement("footer",null,l.a.createElement("p",null,"Click a urinal to toggle occupation"),l.a.createElement("p",null,"Copyright 2021 \xa9 Dallin Romney"))};var F=function(){return Object(n.useEffect)((function(){T.a.AutoInit()}),[]),l.a.createElement(v,null,l.a.createElement(E,null,l.a.createElement(N,null),l.a.createElement(Y,null),l.a.createElement("div",{className:"divider"}),l.a.createElement(s,null),l.a.createElement(C,null),l.a.createElement(D,null),l.a.createElement(I,null),l.a.createElement(q,null)))};c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(F,null)),document.getElementById("root"))}},[[147,1,2]]]);
//# sourceMappingURL=main.d553480b.chunk.js.map